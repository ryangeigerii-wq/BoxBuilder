/* Base Layout */
:root {
  --bg: #0f1115;
  --panel: #181c22;
  --panel-alt: #20252c;
  --border: #2a313b;
  --accent: #ff7a1f;
  --accent-hover: #e86810;
  --text: #e5e9f0;
  --text-dim: #98a2b3;
  --radius: 14px;
  --radius-sm: 8px;
  --transition: 160ms ease;
  --shadow: 0 4px 10px -2px rgba(0,0,0,.5), 0 2px 4px -1px rgba(0,0,0,.4);
}

* { box-sizing: border-box; }
body {
  margin: 0;
  background: radial-gradient(circle at 30% 30%, #151a20, #0d0f12 65%);
  color: var(--text);
  font-family: system-ui, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
}

h1,h2,h3 { font-weight: 600; letter-spacing: .5px; }

.site-header {
  padding: 2.5rem 2rem 1.5rem;
  text-align: center;
}
.logo-block { max-width: 680px; margin: 0 auto 1.75rem; }
.logo { width: 120px; filter: drop-shadow(0 6px 10px rgba(0,0,0,.4)); }
.tagline { margin-top: .35rem; color: var(--text-dim); font-size: .95rem; }

.primary-nav { display: flex; justify-content: center; gap: 1.75rem; flex-wrap: wrap; }
.primary-nav a {
  color: var(--text-dim);
  text-decoration: none;
  font-size: .9rem;
  padding: .6rem 1rem;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  transition: var(--transition);
}
.primary-nav a:hover { color: var(--text); background: var(--panel-alt); }

.content { max-width: 1180px; margin: 0 auto; padding: 0 2rem 4rem; }
.actions { display: flex; justify-content: center; gap: 1.25rem; margin: 1rem 0 2.75rem; }

.button {
  border: none;
  cursor: pointer;
  text-decoration: none;
  font-weight: 600;
  letter-spacing: .5px;
  background: var(--panel);
  color: var(--text);
  padding: .95rem 1.55rem;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  position: relative;
  overflow: hidden;
  transition: var(--transition);
}
.button.primary { background: linear-gradient(135deg,var(--accent),#ff9d4f); color:#fff; }
.button.primary:hover { background: linear-gradient(135deg,var(--accent-hover),#ff8b31); }
.button.secondary { background: var(--panel-alt); }
.button.secondary:hover { background: #2c333d; }
.button:active { transform: translateY(2px); }

.workspace { margin-bottom: 3.5rem; }
.workspace h2 { margin-bottom: .5rem; }
.section-desc { margin: 0 0 1.75rem; color: var(--text-dim); }
.folder-grid {
  display: grid;
  gap: 1.4rem;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.folder {
  background: var(--panel);
  border: 1px solid var(--border);
  padding: 1.1rem 1rem 1.15rem;
  border-radius: var(--radius);
  position: relative;
  display: flex;
  flex-direction: column;
  gap: .6rem;
  min-height: 160px;
  transition: var(--transition);
}
.folder:hover { background: var(--panel-alt); border-color: #36404c; }
.folder h3 { margin: 0; font-size: 1.05rem; }
.folder p { margin: 0; color: var(--text-dim); font-size: .85rem; line-height: 1.3; }
.folder .mini-link {
  margin-top: auto;
  font-size: .75rem;
  align-self: flex-start;
  background: var(--panel-alt);
  padding: .45rem .7rem;
  border-radius: var(--radius-sm);
  color: var(--text);
  text-decoration: none;
  border: 1px solid var(--border);
  transition: var(--transition);
}
.folder .mini-link:hover { background: #2c333d; }
.folder.placeholder { opacity: .6; }

.box-form-preview { max-width: 680px; margin: 0 auto; }
.box-form { background: var(--panel); padding: 1.5rem 1.5rem 1.25rem; border:1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow); display:grid; gap: 1rem; }
.box-form label { font-size: .8rem; font-weight:600; display:flex; flex-direction:column; gap:.35rem; }
.box-form input { background: var(--panel-alt); color: var(--text); border:1px solid var(--border); padding:.65rem .7rem; border-radius: var(--radius-sm); font-size:.85rem; }
.box-form input:focus { outline: 2px solid var(--accent); }
.input-hint { margin: 0; font-size: .65rem; color: var(--text-dim); }

.site-footer { text-align:center; padding:1.75rem 1rem 2.25rem; color: var(--text-dim); font-size:.75rem; }

@media (max-width: 640px) {
  .primary-nav { gap: .75rem; }
  .folder-grid { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
  .actions { flex-direction: column; }
  .logo { width: 90px; }
}

/* ==== Box Builder Page Styles ==== */
.builder-layout { max-width:1080px; margin:0 auto; padding:2rem; display:grid; gap:2rem; grid-template-columns: minmax(320px,400px) 1fr; }
@media (max-width: 900px){ .builder-layout { grid-template-columns:1fr; padding:1.25rem; } }
.panel { background: var(--panel); border:1px solid var(--border); border-radius: var(--radius); padding:1.5rem; box-shadow: var(--shadow); }
.panel h2 { margin-top:0; font-size:1.2rem; }
form.box-builder-form { display:grid; gap:1rem; }
form.box-builder-form label { font-size:.8rem; font-weight:600; display:flex; flex-direction:column; gap:.35rem; }
form.box-builder-form input { background: var(--panel-alt); color: var(--text); border:1px solid var(--border); padding:.65rem .7rem; border-radius: var(--radius-sm); font-size:.85rem; }
form.box-builder-form input:focus { outline:2px solid var(--accent); }
.inline-fields { display:grid; grid-template-columns:repeat(auto-fit,minmax(90px,1fr)); gap:.75rem; }
.results { margin-top:.5rem; font-size:.85rem; color: var(--text-dim); }
.results strong { color: var(--text); }
.wireframe-wrapper { display:flex; align-items:flex-start; justify-content:center; }
.wireframe-box { background:#0d0f12; border:1px solid var(--border); width:100%; min-height:360px; border-radius: var(--radius-sm); display:flex; align-items:center; justify-content:center; }
.back-link { display:inline-block; margin-bottom:1rem; font-size:.75rem; color: var(--text-dim); text-decoration:none; }
.back-link:hover { color: var(--text); }
#preview svg { max-width:100%; height:auto; }

/* Header adjustments for builder page */
.site-header.builder-header { padding:1.5rem 2rem 0.5rem; }
.logo-block.builder-compact { margin-bottom:0.5rem; }
.logo-block.builder-compact .logo { width:80px; }
.logo-block.builder-compact h1 { margin:0.5rem 0 0; }
.logo-block.builder-compact .tagline { margin-top:0.25rem; }

/* ==== Lemonade Builder Additions (migrated from inline) ==== */
form.box-lm-form { display:grid; gap:1.1rem; }
.triple { display:grid; gap:.75rem; grid-template-columns:repeat(auto-fit,minmax(95px,1fr)); }
/* Uniform field styling for 3-up rows (cut diameter / sub size / sub count) */
.triple-field { display:flex; flex-direction:column; gap:.25rem; min-width:110px; }
@media (max-width:520px){ .triple-field { min-width:95px; } }
label span.lbl { font-size:.65rem; letter-spacing:.5px; font-weight:600; text-transform:uppercase; color:var(--text-dim); }
input[type=number] { background:var(--panel-alt); color:var(--text); border:1px solid var(--border); padding:.6rem .65rem; border-radius:var(--radius-sm); font-size:.85rem; }
input[type=number]:focus { outline:2px solid var(--accent); border-color:var(--accent); }
.metrics { font-size:.75rem; color:var(--text-dim); line-height:1.4; display:grid; gap:.25rem; }
.metrics strong { color:var(--text); }
.preview-wrapper { display:flex; justify-content:center; align-items:center; min-height:440px; }
svg { max-width:100%; height:auto; background:#0d0f12; border:1px solid var(--border); border-radius:var(--radius-sm); }
.buttons-row { display:flex; flex-wrap:wrap; gap:.75rem; margin-top:.5rem; }
button.action { background:var(--panel-alt); color:var(--text); border:1px solid var(--border); padding:.6rem 1rem; border-radius:var(--radius-sm); cursor:pointer; font-size:.75rem; font-weight:600; letter-spacing:.5px; }
button.action.primary { background:linear-gradient(135deg,var(--accent),#ff9d4f); color:#fff; }
button.action:hover { filter:brightness(1.08); }
.footer-note { margin-top:1.25rem; font-size:.6rem; color:var(--text-dim); text-align:center; }
.fade-enter { opacity:0; transform:scale(.97); }
.fade-enter-active { opacity:1; transform:scale(1); transition:250ms ease; }

/* ==== Builder Loading Spinner Overlay ==== */
.builder-spinner { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(15,17,21,.82); backdrop-filter:blur(4px); z-index:1000; transition:opacity 95ms ease, visibility 95ms ease; }
.builder-spinner .spinner-inner { display:flex; flex-direction:column; align-items:center; gap:.85rem; padding:1.8rem 2.1rem 1.6rem; background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); }
.builder-spinner img { width:64px; height:64px; display:block; }
.builder-spinner .spinner-text { margin:0; font-size:.7rem; letter-spacing:.5px; text-transform:uppercase; color:var(--text-dim); font-weight:600; }
.builder-spinner.is-hide { opacity:0; visibility:hidden; }
